<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monad Proveys - Results</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            color: #fff;
            position: relative;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 6, 244, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(138, 43, 226, 0.2) 0%, transparent 50%);
            animation: bgShift 20s ease infinite;
        }

        @keyframes bgShift {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -30px) scale(1.1); }
            66% { transform: translate(-30px, 50px) scale(0.95); }
        }

        .grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            pointer-events: none;
            background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noise"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noise)"/%3E%3C/svg%3E');
            z-index: 1;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .header h1 {
            font-size: 4.5em;
            font-weight: 900;
            background: linear-gradient(135deg, #fff 0%, #ff06f4 50%, #c913b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -2px;
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 6, 244, 0.5)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 6, 244, 0.8)); }
        }

        .header p {
            font-size: 1.2em;
            color: #a0a0a0;
            font-weight: 500;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav-pills {
            background: rgba(20, 20, 30, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 8px;
            display: flex;
            gap: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .nav-btn {
            background: transparent;
            border: none;
            padding: 14px 32px;
            border-radius: 40px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #a0a0a0;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff06f4, #c913b8);
            opacity: 0;
            transition: opacity 0.3s;
            border-radius: 40px;
        }

        .nav-btn:hover::before {
            opacity: 0.1;
        }

        .nav-btn.active {
            color: #fff;
        }

        .nav-btn.active::before {
            opacity: 1;
        }

        .nav-btn span {
            position: relative;
            z-index: 1;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .category-card {
            background: rgba(20, 20, 30, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 6, 244, 0.1), rgba(201, 19, 184, 0.1));
            opacity: 0;
            transition: opacity 0.4s;
            pointer-events: none;
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 30px 80px rgba(255, 6, 244, 0.3);
            border-color: rgba(255, 6, 244, 0.5);
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-header {
            background: linear-gradient(135deg, #ff06f4 0%, #8b1fc9 100%);
            color: white;
            padding: 24px 28px;
            font-weight: 700;
            font-size: 1.15em;
            letter-spacing: -0.5px;
            position: relative;
            overflow: hidden;
        }

        .category-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .category-body {
            padding: 28px;
        }

        .nominees-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .nominee-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            padding: 18px 20px;
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .nominee-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 6, 244, 0.3);
            transform: translateX(4px);
        }

        .nominee-item.winner {
            background: rgba(255, 6, 244, 0.15);
            border-color: #ff06f4;
            box-shadow: 0 0 20px rgba(255, 6, 244, 0.3);
        }

        .nominee-item.winner .nominee-name::before {
            content: 'üëë ';
            font-size: 1.2em;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .nominee-name {
            flex: 1;
            font-weight: 600;
            font-size: 1.05em;
            color: #e0e0e0;
            position: relative;
            z-index: 1;
        }

        .vote-count {
            background: linear-gradient(135deg, #ff06f4, #8b1fc9);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.95em;
            position: relative;
            z-index: 1;
            box-shadow: 0 4px 12px rgba(255, 6, 244, 0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }

            .nav-pills {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="grain"></div>
    
    <div class="container">
        <div class="header">
            <h1>THE MONAD PROVEYS</h1>
            <p>Live voting results</p>
        </div>

        <div class="nav-container">
            <div class="nav-pills">
                <a href="index.html" class="nav-btn">
                    <span>‚ú® Nominate</span>
                </a>
                <a href="vote.html" class="nav-btn">
                    <span>üó≥Ô∏è Vote</span>
                </a>
                <a href="results.html" class="nav-btn active">
                    <span>üìä Results</span>
                </a>
            </div>
        </div>

        <div class="categories-grid" id="results-grid"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCl-TKiuRRfAB_a2x130_cCPtxrLlXo3BU",
            authDomain: "voterrr-239ec.firebaseapp.com",
            databaseURL: "https://voterrr-239ec-default-rtdb.firebaseio.com",
            projectId: "voterrr-239ec",
            storageBucket: "voterrr-239ec.firebasestorage.app",
            messagingSenderId: "1077550121311",
            appId: "1:1077550121311:web:ab7a0d149df994eaf676ea",
            measurementId: "G-SD8M5NXQHY"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        const categories = [
            "Best shit poster",
            "Best threador",
            "Best 2D/3D Artist",
            "Best animator",
            "Best Karaok√©",
            "Ironnad",
            "Most caring Nad",
            "Best moderator",
            "Best Nad couple",
            "Most hated Nad",
            "Best gamer",
            "Farmer of the year",
            "Quant of the year",
            "Dev of the year",
            "Founder of the year",
            "Space host of the year",
            "Best defi detective",
            "Nad that are most likely to leave monad after mainnet",
            "Nad of the year",
            "Best Collab manager"
        ];

        function loadResultsPage() {
            const grid = document.getElementById('results-grid');
            const nominationsRef = ref(database, 'nominations');

            onValue(nominationsRef, (snapshot) => {
                grid.innerHTML = '';
                const data = snapshot.val();
                
                if (!data) {
                    grid.innerHTML = '<p style="text-align: center; color: #666; grid-column: 1/-1;">No results yet</p>';
                    return;
                }

                categories.forEach(category => {
                    const categoryNominees = [];
                    
                    Object.keys(data).forEach(key => {
                        const nomination = data[key];
                        if (nomination.category === category && nomination.status === 'approved') {
                            categoryNominees.push({ key, ...nomination });
                        }
                    });

                    // Sort by votes (highest first)
                    categoryNominees.sort((a, b) => (b.votes || 0) - (a.votes || 0));

                    if (categoryNominees.length > 0) {
                        const card = document.createElement('div');
                        card.className = 'category-card';
                        
                        let nomineesList = '';
                        categoryNominees.forEach((nom, index) => {
                            const isWinner = index === 0 && (nom.votes || 0) > 0;
                            nomineesList += `
                                <div class="nominee-item ${isWinner ? 'winner' : ''}">
                                    <span class="nominee-name">${nom.nominee}</span>
                                    <span class="vote-count">${nom.votes || 0} votes</span>
                                </div>
                            `;
                        });

                        card.innerHTML = `
                            <div class="category-header">${category}</div>
                            <div class="category-body">
                                <div class="nominees-list">${nomineesList}</div>
                            </div>
                        `;
                        grid.appendChild(card);
                    }
                });
            });
        }

        loadResultsPage();
    </script>
</body>
</html>
