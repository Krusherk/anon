<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monad Proveys - Nominate</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            color: #fff;
            position: relative;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 6, 244, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(138, 43, 226, 0.2) 0%, transparent 50%);
            animation: bgShift 20s ease infinite;
        }

        @keyframes bgShift {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -30px) scale(1.1); }
            66% { transform: translate(-30px, 50px) scale(0.95); }
        }

        .grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            pointer-events: none;
            background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noise"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noise)"/%3E%3C/svg%3E');
            z-index: 1;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .header h1 {
            font-size: 4.5em;
            font-weight: 900;
            background: linear-gradient(135deg, #fff 0%, #ff06f4 50%, #c913b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -2px;
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 6, 244, 0.5)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 6, 244, 0.8)); }
        }

        .header p {
            font-size: 1.2em;
            color: #a0a0a0;
            font-weight: 500;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav-pills {
            background: rgba(20, 20, 30, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 8px;
            display: flex;
            gap: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .nav-btn {
            background: transparent;
            border: none;
            padding: 14px 32px;
            border-radius: 40px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #a0a0a0;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff06f4, #c913b8);
            opacity: 0;
            transition: opacity 0.3s;
            border-radius: 40px;
        }

        .nav-btn:hover::before {
            opacity: 0.1;
        }

        .nav-btn.active {
            color: #fff;
        }

        .nav-btn.active::before {
            opacity: 1;
        }

        .nav-btn span {
            position: relative;
            z-index: 1;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .category-card {
            background: rgba(20, 20, 30, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 6, 244, 0.1), rgba(201, 19, 184, 0.1));
            opacity: 0;
            transition: opacity 0.4s;
            pointer-events: none;
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 30px 80px rgba(255, 6, 244, 0.3);
            border-color: rgba(255, 6, 244, 0.5);
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-header {
            background: linear-gradient(135deg, #ff06f4 0%, #8b1fc9 100%);
            color: white;
            padding: 24px 28px;
            font-weight: 700;
            font-size: 1.15em;
            letter-spacing: -0.5px;
            position: relative;
            overflow: hidden;
        }

        .category-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .category-body {
            padding: 28px;
        }

        .nomination-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            font-size: 1em;
            margin-bottom: 16px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-weight: 500;
        }

        .nomination-input::placeholder {
            color: #666;
        }

        .nomination-input:focus {
            outline: none;
            border-color: #ff06f4;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 4px rgba(255, 6, 244, 0.1);
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff06f4 0%, #8b1fc9 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-size: 1.05em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .submit-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(255, 6, 244, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn span {
            position: relative;
            z-index: 1;
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .success-msg, .error-msg {
            padding: 18px;
            border-radius: 16px;
            margin-top: 16px;
            text-align: center;
            font-weight: 700;
            font-size: 1em;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .success-msg {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
        }

        .error-msg {
            background: linear-gradient(135deg, #f44336, #c62828);
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }

            .nav-pills {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="grain"></div>
    
    <div class="container">
        <div class="header">
            <h1>THE MONAD PROVEYS</h1>
            <p>Nominate the best in the community</p>
        </div>

        <div class="nav-container">
            <div class="nav-pills">
                <a href="index.html" class="nav-btn active">
                    <span>✨ Nominate</span>
                </a>
                <a href="vote.html" class="nav-btn">
                    <span>🗳️ Vote</span>
                </a>
                <a href="results.html" class="nav-btn">
                    <span>📊 Results</span>
                </a>
            </div>
        </div>

        <div class="categories-grid" id="nomination-grid"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCl-TKiuRRfAB_a2x130_cCPtxrLlXo3BU",
            authDomain: "voterrr-239ec.firebaseapp.com",
            projectId: "voterrr-239ec",
            storageBucket: "voterrr-239ec.firebasestorage.app",
            messagingSenderId: "1077550121311",
            appId: "1:1077550121311:web:8f255791d73ee17cf676ea",
            measurementId: "G-FGM8WS39D9"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const categories = [
            "Best shit poster",
            "Best threador",
            "Best 2D/3D Artist",
            "Best animator",
            "Best Karaoké",
            "Ironnad",
            "Most caring Nad",
            "Best moderator",
            "Best Nad couple",
            "Most hated Nad",
            "Best gamer",
            "Farmer of the year",
            "Quant of the year",
            "Dev of the year",
            "Founder of the year",
            "Space host of the year",
            "Best defi detective",
            "Nad that are most likely to leave monad after mainnet",
            "Nad of the year",
            "Best Collab manager"
        ];

        async function submitNomination(index) {
            const input = document.getElementById(`nom-${index}`);
            const nominee = input.value.trim();
            const msgDiv = document.getElementById(`msg-${index}`);
            const btn = document.querySelector(`[data-index="${index}"]`);
            
            if (!nominee) {
                msgDiv.innerHTML = '<div class="error-msg">Please enter a name</div>';
                setTimeout(() => msgDiv.innerHTML = '', 3000);
                return;
            }

            btn.disabled = true;
            btn.innerHTML = '<span>Submitting...</span>';

            try {
                await addDoc(collection(db, 'nominations'), {
                    category: categories[index],
                    nominee: nominee,
                    status: 'pending',
                    timestamp: new Date()
                });

                input.value = '';
                msgDiv.innerHTML = '<div class="success-msg">✓ Nomination submitted successfully!</div>';
                btn.innerHTML = '<span>Submit Nomination</span>';
                btn.disabled = false;
                setTimeout(() => msgDiv.innerHTML = '', 3000);
            } catch (error) {
                msgDiv.innerHTML = '<div class="error-msg">Error submitting nomination</div>';
                btn.innerHTML = '<span>Submit Nomination</span>';
                btn.disabled = false;
                console.error(error);
            }
        }

        function createNominationPage() {
            const grid = document.getElementById('nomination-grid');
            grid.innerHTML = '';
            
            categories.forEach((category, index) => {
                const card = document.createElement('div');
                card.className = 'category-card';
                card.innerHTML = `
                    <div class="category-header">${category}</div>
                    <div class="category-body">
                        <input type="text" class="nomination-input" id="nom-${index}" placeholder="Enter nominee name">
                        <button class="submit-btn" data-index="${index}"><span>Submit Nomination</span></button>
                        <div id="msg-${index}"></div>
                    </div>
                `;
                grid.appendChild(card);
            });

            // Add event listeners to all buttons after they're created
            setTimeout(() => {
                document.querySelectorAll('.submit-btn').forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        const index = parseInt(this.getAttribute('data-index'));
                        submitNomination(index);
                    });
                });
            }, 100);
        }

        createNominationPage();
    </script>
</body>
</html>
